{"version":3,"sources":["pages/video/index.js"],"names":["placePic","Video","props","handleGoBack","history","goBack","handleFriend","videoDetail","state","author","friend","setState","handlePlay","play","setTimeout","player","id","title","commentNum","duration","pics","name","avatar","label","vip","this","pic","className","onClick","to","src","alt","preload","controls","ref","el","React","Component"],"mappings":"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","file":"static/js/7.7ba3a16a.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './index.less';\r\n\r\nconst placePic = {\r\n  videoPic: 'https://placekitten.com/375/210',\r\n  avatarPic: 'https://placekitten.com/100/100'\r\n};\r\n\r\nclass Video extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      videoDetail: {\r\n        id: '6815537455467332103',\r\n        title: '拿回一大袋葱，好奇的各种闻舔咬。',\r\n        commentNum: 233,\r\n        duration: '01:29',\r\n        pics: [placePic.videoPic],\r\n        author: {\r\n          name: '秀外慧中2008',\r\n          avatar: placePic.avatarPic,\r\n          label: '优质生活信息创作者',\r\n          vip: true,\r\n          friend: false\r\n        },\r\n      },\r\n      play: false\r\n    }\r\n  }\r\n\r\n  handleGoBack = () => {\r\n    this.props.history.goBack();\r\n  }\r\n\r\n  handleFriend = () => {\r\n    const { videoDetail } = this.state;\r\n    videoDetail.author.friend = !videoDetail.author.friend;\r\n    this.setState({ videoDetail });\r\n  }\r\n\r\n  handlePlay = () => {\r\n    this.setState({ play: true });\r\n    setTimeout(() => {\r\n      this.player.play();\r\n    }, 100);\r\n  }\r\n\r\n  render() {\r\n    const { videoDetail, play } = this.state;\r\n    const { title, commentNum, pics, duration, author } = videoDetail;\r\n    const pic = pics[0];\r\n    const { name, avatar, label, vip, friend } = author;\r\n\r\n    return (\r\n      <div className=\"page-root page-video\">\r\n        <header className=\"header\">\r\n          <span className=\"back\" onClick={this.handleGoBack} />\r\n          <span>视频详情</span>\r\n          <Link className=\"search\" to=\"/hot\" />\r\n        </header>\r\n\r\n        <div className=\"video-item\">\r\n          <div className=\"video-hd\">\r\n            <div className=\"author-avatar\">\r\n              <img src={avatar} alt=\"\"/>\r\n              {vip && <span className=\"vip\" />}\r\n            </div>\r\n            <div className=\"author-info\">\r\n              <div className=\"name\">{name}</div>\r\n              <div className=\"label\">{label}</div>\r\n            </div>\r\n            <div className=\"author-friend\">\r\n              <span\r\n                className={friend ? 'friend' : 'unfriend'}\r\n                onClick={this.handleFriend}\r\n              >{friend ? '已关注' : '关注'}</span>\r\n            </div>\r\n          </div>\r\n          <div className=\"video-content\">\r\n            {!play && <>\r\n              <img className=\"poster\" src={pic} alt=\"\"/>\r\n              <div className=\"video-title line2\">{title}</div>\r\n              <span className=\"playbtn\" onClick={this.handlePlay} />\r\n              <span className=\"videotime\">{duration}</span>\r\n            </>}\r\n            <video\r\n              className={play ? 'video play' : 'video'}\r\n              preload=\"preload\"\r\n              controls=\"controls\"\r\n              src=\"https://videos.36krcdn.com/20200417/v2_1587108843566_video_mp4_v3\"\r\n              ref={el => this.player = el}\r\n            ></video>\r\n          </div>\r\n          <div className=\"video-info\">\r\n            <span className=\"share\">分享</span>\r\n            <span className=\"collect\">收藏</span>\r\n            <span className=\"comment\">{commentNum}</span>\r\n            <span className=\"like\">6815</span>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"video-item\">\r\n          <div className=\"video-hd\">\r\n            <div className=\"author-avatar\">\r\n              <img src={avatar} alt=\"\"/>\r\n              {vip && <span className=\"vip\" />}\r\n            </div>\r\n            <div className=\"author-info\">\r\n              <div className=\"name\">{name}</div>\r\n              <div className=\"label\">{label}</div>\r\n            </div>\r\n            <div className=\"author-friend\">\r\n              <span\r\n                className={friend ? 'friend' : 'unfriend'}\r\n                onClick={this.handleFriend}\r\n              >{friend ? '已关注' : '关注'}</span>\r\n            </div>\r\n          </div>\r\n          <div className=\"video-content\">\r\n            <img className=\"poster\" src={pic} alt=\"\"/>\r\n            <div className=\"video-title line2\">{title}</div>\r\n            <span className=\"playbtn\" />\r\n            <span className=\"videotime\">{duration}</span>\r\n          </div>\r\n          <div className=\"video-info\">\r\n            <span className=\"share\">分享</span>\r\n            <span className=\"collect\">收藏</span>\r\n            <span className=\"comment\">{commentNum}</span>\r\n            <span className=\"like\">6815</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Video;\r\n"],"sourceRoot":""}