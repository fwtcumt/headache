{"version":3,"sources":["pages/channels/index.js"],"names":["Channel","props","handleGoBack","history","goBack","handleSwitchChannel","id","include","defaults","getStore","homeNavType","channelList","dispatch","newChannelList","map","item","setStore","state","this","includeChannels","filter","v","excludeChannels","className","onClick","key","name","React","Component","connect"],"mappings":"gMAIMA,G,wDACJ,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IAKRC,aAAe,WACb,EAAKD,MAAME,QAAQC,UAPF,EAUnBC,oBAAsB,SAACC,EAAIC,GACzB,IAAMC,EAAWC,YAAS,YACpBC,EAAc,EAAKA,YAFY,EAGH,EAAKT,MAA/BU,EAH6B,EAG7BA,YAAaC,EAHgB,EAGhBA,SACfC,EAAiBF,EAAYG,KAAI,SAAAC,GACrC,OAAO,eAAKA,EAAZ,CAAkBR,QAASQ,EAAKT,KAAOA,EAAKC,EAAUQ,EAAKR,aAG7DS,YAAS,CAAEN,YAAcH,GAAWD,IAAOI,EAAqCA,EAAvBF,EAASE,cAClEE,EAAS,CAAED,YAAaE,KAjBxB,EAAKH,YAAcD,YAAS,eAC5B,EAAKQ,MAAQ,GAHI,E,qDAsBT,IAAD,OACCN,EAAgBO,KAAKjB,MAArBU,YACFQ,EAAkBR,EAAYS,QAAO,SAAAC,GAAC,OAAIA,EAAEd,WAC5Ce,EAAkBX,EAAYS,QAAO,SAAAC,GAAC,OAAKA,EAAEd,WAEnD,OACE,yBAAKgB,UAAU,0BACb,4BAAQA,UAAU,UAAlB,2BAEE,0BAAMA,UAAU,OAAOC,QAASN,KAAKhB,gBAEvC,yBAAKqB,UAAU,iBAAf,oDACA,yBAAKA,UAAU,gBACZJ,EAAgBL,KAAI,SAAAC,GAAI,OACvB,yBAAKU,IAAKV,EAAKT,GAAIiB,UAAU,QAC3B,0BACEA,UAAuB,IAAZR,EAAKT,GAAW,mBAAqB,UAChDkB,QAAqB,IAAZT,EAAKT,GAAW,KAAO,kBAAM,EAAKD,oBAAoBU,EAAKT,IAAI,KACxES,EAAKW,WAIb,yBAAKH,UAAU,iBAAf,oDACA,yBAAKA,UAAU,gBACZD,EAAgBR,KAAI,SAAAC,GAAI,OACvB,yBAAKU,IAAKV,EAAKT,GAAIiB,UAAU,QAC3B,0BACEA,UAAU,UACVC,QAAS,kBAAM,EAAKnB,oBAAoBU,EAAKT,IAAI,KACjDS,EAAKW,gB,GApDCC,IAAMC,YA6DbC,sBAAQ,CAAC,eAAgB7B,I","file":"static/js/6.a95f7ebd.chunk.js","sourcesContent":["import React from 'react';\r\nimport { connect, getStore, setStore } from 'utils/createStore';\r\nimport './index.less';\r\n\r\nclass Channel extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.homeNavType = getStore('homeNavType');\r\n    this.state = {}\r\n  }\r\n\r\n  handleGoBack = () => {\r\n    this.props.history.goBack();\r\n  }\r\n\r\n  handleSwitchChannel = (id, include) => {\r\n    const defaults = getStore('defaults');\r\n    const homeNavType = this.homeNavType;\r\n    const { channelList, dispatch } = this.props;\r\n    const newChannelList = channelList.map(item => {\r\n      return { ...item, include: item.id === id ? include : item.include };\r\n    });\r\n    \r\n    setStore({ homeNavType: !include && id === homeNavType ? defaults.homeNavType : homeNavType });\r\n    dispatch({ channelList: newChannelList });\r\n  }\r\n\r\n  render() {\r\n    const { channelList } = this.props;\r\n    const includeChannels = channelList.filter(v => v.include);\r\n    const excludeChannels = channelList.filter(v => !v.include);\r\n\r\n    return (\r\n      <div className=\"page-root page-channel\">\r\n        <header className=\"header\">\r\n          频道管理\r\n          <span className=\"back\" onClick={this.handleGoBack} />\r\n        </header>\r\n        <div className=\"channel-title\">点击删除以下频道</div>\r\n        <div className=\"channel-list\">\r\n          {includeChannels.map(item => (\r\n            <div key={item.id} className=\"item\">\r\n              <span\r\n                className={item.id === 1 ? 'channel disabled' : 'channel'}\r\n                onClick={item.id === 1 ? null : () => this.handleSwitchChannel(item.id, false)}\r\n              >{item.name}</span>\r\n            </div>\r\n          ))}\r\n        </div>\r\n        <div className=\"channel-title\">点击添加以下频道</div>\r\n        <div className=\"channel-list\">\r\n          {excludeChannels.map(item => (\r\n            <div key={item.id} className=\"item\">\r\n              <span\r\n                className=\"channel\"\r\n                onClick={() => this.handleSwitchChannel(item.id, true)}\r\n              >{item.name}</span>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(['channelList'], Channel);\r\n"],"sourceRoot":""}