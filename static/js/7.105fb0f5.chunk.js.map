{"version":3,"sources":["pages/video/components/videoitem.js","pages/video/index.js"],"names":["VideoItem","props","handlePlay","setState","play","setTimeout","player","state","data","this","title","commentNum","likeNum","pics","duration","author","pic","name","avatar","label","vip","friend","className","src","alt","onClick","onFriend","preload","controls","ref","el","onLike","React","Component","placePic","Video","handleGoBack","history","goBack","handleFriend","videoDetail","handleLike","id","to"],"mappings":"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","file":"static/js/7.105fb0f5.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nclass VideoItem extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      play: false\r\n    }\r\n  }\r\n\r\n  handlePlay = () => {\r\n    this.setState({ play: true });\r\n    setTimeout(() => {\r\n      this.player.play();\r\n    }, 100);\r\n  }\r\n\r\n  render() {\r\n    const { data } = this.props;\r\n    const { title, commentNum, likeNum, pics, duration, author } = data;\r\n    const pic = pics[0];\r\n    const { name, avatar, label, vip, friend } = author;\r\n    const { play } = this.state;\r\n\r\n    return (\r\n      <div className=\"video-item\">\r\n        <div className=\"video-hd\">\r\n          <div className=\"author-avatar\">\r\n            <img src={avatar} alt=\"\"/>\r\n            {vip && <span className=\"vip\" />}\r\n          </div>\r\n          <div className=\"author-info\">\r\n            <div className=\"name\">{name}</div>\r\n            <div className=\"label\">{label}</div>\r\n          </div>\r\n          <div className=\"author-friend\">\r\n            <span\r\n              className={friend ? 'friend' : 'unfriend'}\r\n              onClick={this.props.onFriend}\r\n            >{friend ? '已关注' : '关注'}</span>\r\n          </div>\r\n        </div>\r\n        <div className=\"video-content\">\r\n          {!play && <>\r\n            <img className=\"poster\" src={pic} alt=\"\"/>\r\n            <div className=\"video-title line2\">{title}</div>\r\n            <span className=\"playbtn\" onClick={this.handlePlay} />\r\n            <span className=\"videotime\">{duration}</span>\r\n          </>}\r\n          <video\r\n            className={play ? 'video play' : 'video'}\r\n            preload=\"preload\"\r\n            controls=\"controls\"\r\n            src=\"https://videos.36krcdn.com/20200417/v2_1587108843566_video_mp4_v3\"\r\n            ref={el => this.player = el}\r\n          ></video>\r\n        </div>\r\n        <div className=\"video-info\">\r\n          <span className=\"share\">分享</span>\r\n          <span className=\"collect\">收藏</span>\r\n          <span className=\"comment\">{commentNum}</span>\r\n          <span className=\"like\" onClick={this.props.onLike}>{likeNum}</span>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default VideoItem;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport VideoItem from './components/videoitem';\r\nimport './index.less';\r\n\r\nconst placePic = {\r\n  videoPic: 'https://placekitten.com/375/210',\r\n  avatarPic: 'https://placekitten.com/100/100'\r\n};\r\n\r\nclass Video extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      videoDetail: {\r\n        id: '6815537455467332103',\r\n        title: '数字货币落地，对我们的生活有什么影响？',\r\n        duration: '04:49',\r\n        pics: [placePic.videoPic],\r\n        commentNum: 233,\r\n        likeNum: 6815,\r\n        author: {\r\n          name: '烦立停',\r\n          avatar: placePic.avatarPic,\r\n          label: '优质视频作者',\r\n          vip: true,\r\n          friend: false\r\n        },\r\n      },\r\n      play: false\r\n    }\r\n  }\r\n\r\n  handleGoBack = () => {\r\n    this.props.history.goBack();\r\n  }\r\n\r\n  handleFriend = () => {\r\n    const { videoDetail } = this.state;\r\n    videoDetail.author.friend = !videoDetail.author.friend;\r\n    this.setState({ videoDetail });\r\n  }\r\n\r\n  handleLike = () => {\r\n    const { videoDetail } = this.state;\r\n    videoDetail.likeNum ++;\r\n    this.setState({ videoDetail });\r\n  }\r\n\r\n  render() {\r\n    const { videoDetail } = this.state;\r\n\r\n    return (\r\n      <div className=\"page-root page-video\">\r\n        <header className=\"header\">\r\n          <span className=\"back\" onClick={this.handleGoBack} />\r\n          <span>视频详情</span>\r\n          <Link className=\"search\" to=\"/hot\" />\r\n        </header>\r\n        <div className=\"video-list\">\r\n          <VideoItem\r\n            data={videoDetail}\r\n            onFriend={this.handleFriend}\r\n            onLike={this.handleLike}\r\n          />\r\n          <VideoItem\r\n            data={videoDetail}\r\n            onFriend={this.handleFriend}\r\n            onLike={this.handleLike}\r\n          />\r\n          <VideoItem\r\n            data={videoDetail}\r\n            onFriend={this.handleFriend}\r\n            onLike={this.handleLike}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Video;\r\n"],"sourceRoot":""}